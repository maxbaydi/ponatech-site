module.exports=[98908,a=>{"use strict";var b=a.i(57490),c=a.i(51413),d=a.i(99543);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",a),...c}));e.displayName="Card";let f=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex flex-col space-y-1.5 p-6",a),...c}));f.displayName="CardHeader";let g=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("h3",{ref:e,className:(0,d.cn)("font-semibold leading-none tracking-tight",a),...c}));g.displayName="CardTitle";let h=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("p",{ref:e,className:(0,d.cn)("text-sm text-muted-foreground",a),...c}));h.displayName="CardDescription";let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("p-6 pt-0",a),...c}));i.displayName="CardContent",c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("div",{ref:e,className:(0,d.cn)("flex items-center p-6 pt-0",a),...c})).displayName="CardFooter",a.s(["Card",()=>e,"CardContent",()=>i,"CardDescription",()=>h,"CardHeader",()=>f,"CardTitle",()=>g])},37188,a=>{"use strict";var b=a.i(57490),c=a.i(51413);a.i(23427);var d=a.i(92021),e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,e)=>{let f=(0,d.createSlot)(`Primitive.${e}`),g=c.forwardRef((a,c)=>{let{asChild:d,...g}=a;return(0,b.jsx)(d?f:e,{...g,ref:c})});return g.displayName=`Primitive.${e}`,{...a,[e]:g}},{}),f=c.forwardRef((a,c)=>(0,b.jsx)(e.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));f.displayName="Label";var g=a.i(99252),h=a.i(99543);let i=(0,g.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(f,{ref:d,className:(0,h.cn)(i(),a),...c}));j.displayName=f.displayName,a.s(["Label",()=>j],37188)},3846,a=>{"use strict";var b=a.i(57490),c=a.i(99252),d=a.i(99543);let e=(0,c.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white shadow hover:bg-primary-dark",secondary:"border-transparent bg-secondary text-white hover:bg-secondary-dark",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",info:"border-transparent bg-info text-white"}},defaultVariants:{variant:"default"}});function f({className:a,variant:c,...f}){return(0,b.jsx)("div",{className:(0,d.cn)(e({variant:c}),a),...f})}a.s(["Badge",()=>f])},61991,a=>{"use strict";let b=(0,a.i(89047).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],61991)},37877,a=>{"use strict";var b=a.i(57490),c=a.i(51413),d=a.i(12703),e=a.i(10578),f=a.i(57407),g=a.i(29971),h=a.i(86814),i=a.i(45147),j=a.i(78214),k=a.i(99873),l="Tabs",[m,n]=(0,e.createContextScope)(l,[f.createRovingFocusGroupScope]),o=(0,f.createRovingFocusGroupScope)(),[p,q]=m(l),r=c.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:m="horizontal",dir:n,activationMode:o="automatic",...q}=a,r=(0,i.useDirection)(n),[s,t]=(0,j.useControllableState)({prop:e,onChange:f,defaultProp:g??"",caller:l});return(0,b.jsx)(p,{scope:d,baseId:(0,k.useId)(),value:s,onValueChange:t,orientation:m,dir:r,activationMode:o,children:(0,b.jsx)(h.Primitive.div,{dir:r,"data-orientation":m,...q,ref:c})})});r.displayName=l;var s="TabsList",t=c.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...g}=a,i=q(s,d),j=o(d);return(0,b.jsx)(f.Root,{asChild:!0,...j,orientation:i.orientation,dir:i.dir,loop:e,children:(0,b.jsx)(h.Primitive.div,{role:"tablist","aria-orientation":i.orientation,...g,ref:c})})});t.displayName=s;var u="TabsTrigger",v=c.forwardRef((a,c)=>{let{__scopeTabs:e,value:g,disabled:i=!1,...j}=a,k=q(u,e),l=o(e),m=y(k.baseId,g),n=z(k.baseId,g),p=g===k.value;return(0,b.jsx)(f.Item,{asChild:!0,...l,focusable:!i,active:p,children:(0,b.jsx)(h.Primitive.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":n,"data-state":p?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...j,ref:c,onMouseDown:(0,d.composeEventHandlers)(a.onMouseDown,a=>{i||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(g)}),onKeyDown:(0,d.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(g)}),onFocus:(0,d.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;p||i||!a||k.onValueChange(g)})})})});v.displayName=u;var w="TabsContent",x=c.forwardRef((a,d)=>{let{__scopeTabs:e,value:f,forceMount:i,children:j,...k}=a,l=q(w,e),m=y(l.baseId,f),n=z(l.baseId,f),o=f===l.value,p=c.useRef(o);return c.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(g.Presence,{present:i||o,children:({present:c})=>(0,b.jsx)(h.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!c,id:n,tabIndex:0,...k,ref:d,style:{...a.style,animationDuration:p.current?"0s":void 0},children:c&&j})})});function y(a,b){return`${a}-trigger-${b}`}function z(a,b){return`${a}-content-${b}`}x.displayName=w;var A=a.i(99543);let B=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,A.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",a),...c}));B.displayName=t.displayName;let C=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,A.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",a),...c}));C.displayName=v.displayName;let D=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(x,{ref:d,className:(0,A.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 smooth-appear",a),...c}));D.displayName=x.displayName,a.s(["Tabs",()=>r,"TabsContent",()=>D,"TabsList",()=>B,"TabsTrigger",()=>C],37877)},12267,a=>{"use strict";var b=a.i(57490),c=a.i(51413),d=a.i(8824),e=a.i(5841),f=a.i(65986),g=a.i(29593),h=a.i(70363),i=a.i(61991);let j=(0,a.i(89047).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var k=a.i(31862),l=a.i(62987),m=a.i(86636),n=a.i(98908),o=a.i(3846),p=a.i(37877),q=a.i(75134),r=a.i(43127);let s={CUSTOMER:{label:"Клиент",color:"outline"},MANAGER:{label:"Менеджер",color:"secondary"},ADMIN:{label:"Администратор",color:"default"},SUPER_ADMIN:{label:"Супер-администратор",color:"destructive"}},t=f.z.object({currentPassword:f.z.string().min(6,"Введите текущий пароль"),newPassword:f.z.string().min(6,"Новый пароль должен содержать минимум 6 символов"),confirmPassword:f.z.string()}).refine(a=>a.newPassword===a.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]});function u(){let{user:a}=(0,r.useAuth)(),[f,u]=(0,c.useState)(!1),v=(0,d.useForm)({resolver:(0,e.zodResolver)(t),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),w=async a=>{u(!0);try{console.log("Password change:",a),alert("Пароль успешно изменён"),v.reset()}catch{alert("Ошибка при смене пароля")}finally{u(!1)}};if(!a)return null;let x=s[a.role]||{label:a.role,color:"outline"};return(0,b.jsx)("div",{className:"py-8",children:(0,b.jsxs)("div",{className:"container-custom",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Профиль"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Управление аккаунтом и настройки"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(n.Card,{children:(0,b.jsx)(n.CardContent,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,b.jsx)(g.User,{className:"w-12 h-12 text-primary"})}),(0,b.jsx)("h2",{className:"font-semibold text-lg mb-1",children:a.email.split("@")[0]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:a.email}),(0,b.jsx)(o.Badge,{variant:x.color,children:x.label})]})})}),(0,b.jsxs)(n.Card,{className:"mt-4",children:[(0,b.jsx)(n.CardHeader,{className:"pb-3",children:(0,b.jsx)(n.CardTitle,{className:"text-base",children:"Информация об аккаунте"})}),(0,b.jsxs)(n.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(h.Mail,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,b.jsx)("p",{className:"text-sm",children:a.email})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.Shield,{className:"w-4 h-4 text-muted-foreground"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Роль"}),(0,b.jsx)("p",{className:"text-sm",children:x.label})]})]})]})]})]}),(0,b.jsx)("div",{className:"lg:col-span-2",children:(0,b.jsxs)(p.Tabs,{defaultValue:"security",children:[(0,b.jsxs)(p.TabsList,{children:[(0,b.jsx)(p.TabsTrigger,{value:"security",children:"Безопасность"}),(0,b.jsx)(p.TabsTrigger,{value:"history",children:"История заявок"})]}),(0,b.jsx)(p.TabsContent,{value:"security",className:"mt-6",children:(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsxs)(n.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(j,{className:"w-5 h-5"}),"Смена пароля"]}),(0,b.jsx)(n.CardDescription,{children:"Обновите пароль для защиты вашего аккаунта"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)(q.Form,{...v,children:(0,b.jsxs)("form",{onSubmit:v.handleSubmit(w),className:"space-y-4",children:[(0,b.jsx)(q.FormField,{control:v.control,name:"currentPassword",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Текущий пароль"}),(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(m.Input,{type:"password",...a})}),(0,b.jsx)(q.FormMessage,{})]})}),(0,b.jsx)(q.FormField,{control:v.control,name:"newPassword",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Новый пароль"}),(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(m.Input,{type:"password",...a})}),(0,b.jsx)(q.FormMessage,{})]})}),(0,b.jsx)(q.FormField,{control:v.control,name:"confirmPassword",render:({field:a})=>(0,b.jsxs)(q.FormItem,{children:[(0,b.jsx)(q.FormLabel,{children:"Подтвердите пароль"}),(0,b.jsx)(q.FormControl,{children:(0,b.jsx)(m.Input,{type:"password",...a})}),(0,b.jsx)(q.FormMessage,{})]})}),(0,b.jsxs)(l.Button,{type:"submit",disabled:f,children:[f&&(0,b.jsx)(k.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Изменить пароль"]})]})})})]})}),(0,b.jsx)(p.TabsContent,{value:"history",className:"mt-6",children:(0,b.jsxs)(n.Card,{children:[(0,b.jsxs)(n.CardHeader,{children:[(0,b.jsx)(n.CardTitle,{children:"История заявок"}),(0,b.jsx)(n.CardDescription,{children:"Ваши заявки на поставку оборудования"})]}),(0,b.jsx)(n.CardContent,{children:(0,b.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,b.jsx)("p",{children:"У вас пока нет заявок"})})})]})})]})})]})]})})}a.s(["default",()=>u],12267)}];

//# sourceMappingURL=front_a6ff42a2._.js.map