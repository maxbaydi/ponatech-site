(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37304,e=>{"use strict";var a=e.i(83914),s=e.i(73937),t=e.i(55365),l=e.i(26345);function r(){return(0,a.useQuery)({queryKey:["categories"],queryFn:()=>l.apiClient.getCategories()})}function i(e){return(0,a.useQuery)({queryKey:["category",e],queryFn:()=>l.apiClient.getCategory(e),enabled:!!e})}function n(){let e=(0,t.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>l.apiClient.createCategory(e),onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}function d(){let e=(0,t.useQueryClient)();return(0,s.useMutation)({mutationFn:({id:e,data:a})=>l.apiClient.updateCategory(e,a),onSuccess:(a,{id:s})=>{e.invalidateQueries({queryKey:["categories"]}),e.invalidateQueries({queryKey:["category",s]})}})}function c(){let e=(0,t.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>l.apiClient.deleteCategory(e),onSuccess:()=>{e.invalidateQueries({queryKey:["categories"]})}})}e.s(["useCategories",()=>r,"useCategory",()=>i,"useCreateCategory",()=>n,"useDeleteCategory",()=>c,"useUpdateCategory",()=>d])},80647,e=>{"use strict";let a=(0,e.i(20727).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],80647)},38925,e=>{"use strict";var a=e.i(86900),s=e.i(91926),t=e.i(62002);let l=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:l,className:(0,t.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let r=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("thead",{ref:l,className:(0,t.cn)("[&_tr]:border-b",e),...s}));r.displayName="TableHeader";let i=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("tbody",{ref:l,className:(0,t.cn)("[&_tr:last-child]:border-0",e),...s}));i.displayName="TableBody",s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("tfoot",{ref:l,className:(0,t.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let n=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("tr",{ref:l,className:(0,t.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));n.displayName="TableRow";let d=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("th",{ref:l,className:(0,t.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));d.displayName="TableHead";let c=s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("td",{ref:l,className:(0,t.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s}));c.displayName="TableCell",s.forwardRef(({className:e,...s},l)=>(0,a.jsx)("caption",{ref:l,className:(0,t.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>i,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>r,"TableRow",()=>n])},96938,78488,13275,e=>{"use strict";var a=e.i(20727);let s=(0,a.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>s],96938);let t=(0,a.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],78488);let l=(0,a.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>l],13275)},26730,e=>{"use strict";var a=e.i(86900),s=e.i(91926),t=e.i(44226),l=e.i(96938),r=e.i(86626),i=e.i(80647),n=e.i(78488),d=e.i(13275),c=e.i(70908),o=e.i(51813),u=e.i(11954),m=e.i(38925),x=e.i(20071),h=e.i(50236),f=e.i(98916),y=e.i(37304);function j(){let[e,j]=(0,s.useState)(""),{data:p,isLoading:b}=(0,y.useCategories)(),g=(0,y.useDeleteCategory)(),C=p?.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())),N=async e=>{confirm("Вы уверены, что хотите удалить эту категорию?")&&await g.mutateAsync(e)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Категории"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Управление категориями товаров"})]}),(0,a.jsx)(o.Button,{asChild:!0,children:(0,a.jsxs)(t.default,{href:"/admin/manage-categories/new",children:[(0,a.jsx)(l.Plus,{className:"mr-2 h-4 w-4"}),"Добавить категорию"]})})]}),(0,a.jsxs)(h.Card,{children:[(0,a.jsx)(h.CardHeader,{className:"pb-4",children:(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(r.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.Input,{placeholder:"Поиск категорий...",value:e,onChange:e=>j(e.target.value),className:"pl-10"})]})})}),(0,a.jsx)(h.CardContent,{className:"p-0",children:b?(0,a.jsx)("div",{className:"p-4 space-y-4",children:Array.from({length:5}).map((e,s)=>(0,a.jsx)(f.Skeleton,{className:"h-12 w-full"},s))}):C&&C.length>0?(0,a.jsxs)(m.Table,{children:[(0,a.jsx)(m.TableHeader,{children:(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableHead,{children:"Категория"}),(0,a.jsx)(m.TableHead,{children:"Slug"}),(0,a.jsx)(m.TableHead,{children:"Описание"}),(0,a.jsx)(m.TableHead,{className:"w-[70px]"})]})}),(0,a.jsx)(m.TableBody,{children:C.map(e=>(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded bg-muted flex items-center justify-center",children:(0,a.jsx)(c.FolderTree,{className:"w-5 h-5 text-muted-foreground"})}),(0,a.jsx)("div",{className:"font-medium",children:e.name})]})}),(0,a.jsx)(m.TableCell,{className:"text-muted-foreground",children:e.slug}),(0,a.jsx)(m.TableCell,{className:"text-muted-foreground max-w-xs truncate",children:e.description||"-"}),(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)(x.DropdownMenu,{children:[(0,a.jsx)(x.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(i.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(x.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(x.DropdownMenuItem,{asChild:!0,children:(0,a.jsxs)(t.default,{href:`/admin/manage-categories/${e.id}/edit`,children:[(0,a.jsx)(n.Pencil,{className:"mr-2 h-4 w-4"}),"Редактировать"]})}),(0,a.jsxs)(x.DropdownMenuItem,{onClick:()=>N(e.id),className:"text-destructive",children:[(0,a.jsx)(d.Trash2,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},e.id))})]}):(0,a.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:(0,a.jsx)("p",{children:"Категории не найдены"})})})]})]})}e.s(["default",()=>j])}]);