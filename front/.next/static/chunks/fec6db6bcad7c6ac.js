(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,50236,e=>{"use strict";var r=e.i(86900),s=e.i(91926),a=e.i(62002);let t=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("rounded-xl border border-border bg-card text-card-foreground shadow-sm",e),...s}));t.displayName="Card";let i=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let n=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("h3",{ref:t,className:(0,a.cn)("font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let l=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",s.forwardRef(({className:e,...s},t)=>(0,r.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>t,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},8913,e=>{"use strict";var r=e.i(86900),s=e.i(91926);e.i(34650);var a=e.i(69834),t=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let i=(0,a.createSlot)(`Primitive.${t}`),n=s.forwardRef((e,s)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,r.jsx)(a?i:t,{...n,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),i=s.forwardRef((e,s)=>(0,r.jsx)(t.label,{...e,ref:s,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var n=e.i(94404),l=e.i(62002);let o=(0,n.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)(i,{ref:a,className:(0,l.cn)(o(),e),...s}));d.displayName=i.displayName,e.s(["Label",()=>d],8913)},83267,e=>{"use strict";var r=e.i(86900),s=e.i(94404),a=e.i(62002);let t=(0,s.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white shadow hover:bg-primary-dark",secondary:"border-transparent bg-secondary text-white hover:bg-secondary-dark",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",info:"border-transparent bg-info text-white"}},defaultVariants:{variant:"default"}});function i({className:e,variant:s,...i}){return(0,r.jsx)("div",{className:(0,a.cn)(t({variant:s}),e),...i})}e.s(["Badge",()=>i])},96815,e=>{"use strict";let r=(0,e.i(20727).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>r],96815)},34273,e=>{"use strict";var r=e.i(86900),s=e.i(91926),a=e.i(33558),t=e.i(92574),i=e.i(9342),n=e.i(64511),l=e.i(93894),o=e.i(58409),d=e.i(64970),c=e.i(50540),m="Tabs",[u,x]=(0,t.createContextScope)(m,[i.createRovingFocusGroupScope]),f=(0,i.createRovingFocusGroupScope)(),[h,p]=u(m),b=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:t,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:x,activationMode:f="automatic",...p}=e,b=(0,o.useDirection)(x),[j,g]=(0,d.useControllableState)({prop:t,onChange:i,defaultProp:n??"",caller:m});return(0,r.jsx)(h,{scope:a,baseId:(0,c.useId)(),value:j,onValueChange:g,orientation:u,dir:b,activationMode:f,children:(0,r.jsx)(l.Primitive.div,{dir:b,"data-orientation":u,...p,ref:s})})});b.displayName=m;var j="TabsList",g=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:t=!0,...n}=e,o=p(j,a),d=f(a);return(0,r.jsx)(i.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:t,children:(0,r.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});g.displayName=j;var v="TabsTrigger",y=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:n,disabled:o=!1,...d}=e,c=p(v,t),m=f(t),u=C(c.baseId,n),x=T(c.baseId,n),h=n===c.value;return(0,r.jsx)(i.Item,{asChild:!0,...m,focusable:!o,active:h,children:(0,r.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:u,...d,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||o||!e||c.onValueChange(n)})})})});y.displayName=v;var w="TabsContent",N=s.forwardRef((e,a)=>{let{__scopeTabs:t,value:i,forceMount:o,children:d,...c}=e,m=p(w,t),u=C(m.baseId,i),x=T(m.baseId,i),f=i===m.value,h=s.useRef(f);return s.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(n.Presence,{present:o||f,children:({present:s})=>(0,r.jsx)(l.Primitive.div,{"data-state":f?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!s,id:x,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:h.current?"0s":void 0},children:s&&d})})});function C(e,r){return`${e}-trigger-${r}`}function T(e,r){return`${e}-content-${r}`}N.displayName=w;var F=e.i(62002);let R=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)(g,{ref:a,className:(0,F.cn)("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...s}));R.displayName=g.displayName;let P=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)(y,{ref:a,className:(0,F.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...s}));P.displayName=y.displayName;let D=s.forwardRef(({className:e,...s},a)=>(0,r.jsx)(N,{ref:a,className:(0,F.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 smooth-appear",e),...s}));D.displayName=N.displayName,e.s(["Tabs",()=>b,"TabsContent",()=>D,"TabsList",()=>R,"TabsTrigger",()=>P],34273)},63764,e=>{"use strict";var r=e.i(86900),s=e.i(91926),a=e.i(7368),t=e.i(54655),i=e.i(80700),n=e.i(17940),l=e.i(62011),o=e.i(96815);let d=(0,e.i(20727).default)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);var c=e.i(24876),m=e.i(51813),u=e.i(11954),x=e.i(50236),f=e.i(83267),h=e.i(34273),p=e.i(62359),b=e.i(41812);let j={CUSTOMER:{label:"Клиент",color:"outline"},MANAGER:{label:"Менеджер",color:"secondary"},ADMIN:{label:"Администратор",color:"default"},SUPER_ADMIN:{label:"Супер-администратор",color:"destructive"}},g=i.z.object({currentPassword:i.z.string().min(6,"Введите текущий пароль"),newPassword:i.z.string().min(6,"Новый пароль должен содержать минимум 6 символов"),confirmPassword:i.z.string()}).refine(e=>e.newPassword===e.confirmPassword,{message:"Пароли не совпадают",path:["confirmPassword"]});function v(){let{user:e}=(0,b.useAuth)(),[i,v]=(0,s.useState)(!1),y=(0,a.useForm)({resolver:(0,t.zodResolver)(g),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),w=async e=>{v(!0);try{console.log("Password change:",e),alert("Пароль успешно изменён"),y.reset()}catch{alert("Ошибка при смене пароля")}finally{v(!1)}};if(!e)return null;let N=j[e.role]||{label:e.role,color:"outline"};return(0,r.jsx)("div",{className:"py-8",children:(0,r.jsxs)("div",{className:"container-custom",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Профиль"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Управление аккаунтом и настройки"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(x.Card,{children:(0,r.jsx)(x.CardContent,{className:"p-6",children:(0,r.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-4",children:(0,r.jsx)(n.User,{className:"w-12 h-12 text-primary"})}),(0,r.jsx)("h2",{className:"font-semibold text-lg mb-1",children:e.email.split("@")[0]}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:e.email}),(0,r.jsx)(f.Badge,{variant:N.color,children:N.label})]})})}),(0,r.jsxs)(x.Card,{className:"mt-4",children:[(0,r.jsx)(x.CardHeader,{className:"pb-3",children:(0,r.jsx)(x.CardTitle,{className:"text-base",children:"Информация об аккаунте"})}),(0,r.jsxs)(x.CardContent,{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l.Mail,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Email"}),(0,r.jsx)("p",{className:"text-sm",children:e.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(o.Shield,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Роль"}),(0,r.jsx)("p",{className:"text-sm",children:N.label})]})]})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-2",children:(0,r.jsxs)(h.Tabs,{defaultValue:"security",children:[(0,r.jsxs)(h.TabsList,{children:[(0,r.jsx)(h.TabsTrigger,{value:"security",children:"Безопасность"}),(0,r.jsx)(h.TabsTrigger,{value:"history",children:"История заявок"})]}),(0,r.jsx)(h.TabsContent,{value:"security",className:"mt-6",children:(0,r.jsxs)(x.Card,{children:[(0,r.jsxs)(x.CardHeader,{children:[(0,r.jsxs)(x.CardTitle,{className:"flex items-center gap-2",children:[(0,r.jsx)(d,{className:"w-5 h-5"}),"Смена пароля"]}),(0,r.jsx)(x.CardDescription,{children:"Обновите пароль для защиты вашего аккаунта"})]}),(0,r.jsx)(x.CardContent,{children:(0,r.jsx)(p.Form,{...y,children:(0,r.jsxs)("form",{onSubmit:y.handleSubmit(w),className:"space-y-4",children:[(0,r.jsx)(p.FormField,{control:y.control,name:"currentPassword",render:({field:e})=>(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Текущий пароль"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(u.Input,{type:"password",...e})}),(0,r.jsx)(p.FormMessage,{})]})}),(0,r.jsx)(p.FormField,{control:y.control,name:"newPassword",render:({field:e})=>(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Новый пароль"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(u.Input,{type:"password",...e})}),(0,r.jsx)(p.FormMessage,{})]})}),(0,r.jsx)(p.FormField,{control:y.control,name:"confirmPassword",render:({field:e})=>(0,r.jsxs)(p.FormItem,{children:[(0,r.jsx)(p.FormLabel,{children:"Подтвердите пароль"}),(0,r.jsx)(p.FormControl,{children:(0,r.jsx)(u.Input,{type:"password",...e})}),(0,r.jsx)(p.FormMessage,{})]})}),(0,r.jsxs)(m.Button,{type:"submit",disabled:i,children:[i&&(0,r.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Изменить пароль"]})]})})})]})}),(0,r.jsx)(h.TabsContent,{value:"history",className:"mt-6",children:(0,r.jsxs)(x.Card,{children:[(0,r.jsxs)(x.CardHeader,{children:[(0,r.jsx)(x.CardTitle,{children:"История заявок"}),(0,r.jsx)(x.CardDescription,{children:"Ваши заявки на поставку оборудования"})]}),(0,r.jsx)(x.CardContent,{children:(0,r.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:(0,r.jsx)("p",{children:"У вас пока нет заявок"})})})]})})]})})]})]})})}e.s(["default",()=>v],63764)}]);