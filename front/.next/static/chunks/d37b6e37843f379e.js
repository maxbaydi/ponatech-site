(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93805,e=>{"use strict";var a=e.i(83914),r=e.i(73937),s=e.i(55365),t=e.i(26345);function l(){return(0,a.useQuery)({queryKey:["brands"],queryFn:()=>t.apiClient.getBrands()})}function n(e){return(0,a.useQuery)({queryKey:["brand",e],queryFn:()=>t.apiClient.getBrand(e),enabled:!!e})}function i(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:e=>t.apiClient.createBrand(e),onSuccess:()=>{e.invalidateQueries({queryKey:["brands"]})}})}function d(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:({id:e,data:a})=>t.apiClient.updateBrand(e,a),onSuccess:(a,{id:r})=>{e.invalidateQueries({queryKey:["brands"]}),e.invalidateQueries({queryKey:["brand",r]})}})}function c(){let e=(0,s.useQueryClient)();return(0,r.useMutation)({mutationFn:e=>t.apiClient.deleteBrand(e),onSuccess:()=>{e.invalidateQueries({queryKey:["brands"]})}})}e.s(["useBrand",()=>n,"useBrands",()=>l,"useCreateBrand",()=>i,"useDeleteBrand",()=>c,"useUpdateBrand",()=>d])},83267,e=>{"use strict";var a=e.i(86900),r=e.i(94404),s=e.i(62002);let t=(0,r.cva)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-white shadow hover:bg-primary-dark",secondary:"border-transparent bg-secondary text-white hover:bg-secondary-dark",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground",success:"border-transparent bg-success text-white",warning:"border-transparent bg-warning text-white",info:"border-transparent bg-info text-white"}},defaultVariants:{variant:"default"}});function l({className:e,variant:r,...l}){return(0,a.jsx)("div",{className:(0,s.cn)(t({variant:r}),e),...l})}e.s(["Badge",()=>l])},80647,e=>{"use strict";let a=(0,e.i(20727).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>a],80647)},47564,e=>{"use strict";var a=e.i(86900),r=e.i(62002);let s={sm:{container:"w-10 h-10 rounded-lg",image:"w-8 h-8",fallbackText:"text-xs"},md:{container:"w-16 h-16 rounded-xl",image:"w-20 h-20",fallbackText:"text-lg"},lg:{container:"w-24 h-24 rounded-2xl",image:"w-16 h-16",fallbackText:"text-2xl"}};function t({name:e,src:t,size:l="md",className:n,imgClassName:i}){let d=e.slice(0,2).toUpperCase(),c=s[l];return(0,a.jsx)("div",{className:(0,r.cn)(c.container,"bg-white flex items-center justify-center overflow-hidden",n),children:t?(0,a.jsx)("img",{src:t,alt:e,className:(0,r.cn)(c.image,"object-contain",i)}):(0,a.jsx)("span",{className:(0,r.cn)(c.fallbackText,"font-bold text-muted-foreground"),children:d})})}e.s(["BrandLogo",()=>t])},38925,e=>{"use strict";var a=e.i(86900),r=e.i(91926),s=e.i(62002);let t=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",e),...r})}));t.displayName="Table";let l=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",e),...r}));l.displayName="TableHeader";let n=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r}));n.displayName="TableBody",r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...r})).displayName="TableFooter";let i=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...r}));i.displayName="TableRow";let d=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("th",{ref:t,className:(0,s.cn)("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));d.displayName="TableHead";let c=r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("td",{ref:t,className:(0,s.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...r}));c.displayName="TableCell",r.forwardRef(({className:e,...r},t)=>(0,a.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...r})).displayName="TableCaption",e.s(["Table",()=>t,"TableBody",()=>n,"TableCell",()=>c,"TableHead",()=>d,"TableHeader",()=>l,"TableRow",()=>i])},96938,78488,13275,e=>{"use strict";var a=e.i(20727);let r=(0,a.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>r],96938);let s=(0,a.default)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>s],78488);let t=(0,a.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],13275)},46341,e=>{"use strict";var a=e.i(86900),r=e.i(91926),s=e.i(44226),t=e.i(96938),l=e.i(86626),n=e.i(80647),i=e.i(78488),d=e.i(13275);let c=(0,e.i(20727).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);var o=e.i(51813),u=e.i(11954),x=e.i(83267),m=e.i(38925),h=e.i(20071),f=e.i(50236),b=e.i(98916),p=e.i(47564),y=e.i(93805);function j(){let[e,j]=(0,r.useState)(""),{data:g,isLoading:w}=(0,y.useBrands)(),v=(0,y.useDeleteBrand)(),N=g?.filter(a=>a.name.toLowerCase().includes(e.toLowerCase())),T=async e=>{confirm("Вы уверены, что хотите удалить этот бренд?")&&await v.mutateAsync(e)};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Бренды"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Управление брендами производителей"})]}),(0,a.jsx)(o.Button,{asChild:!0,children:(0,a.jsxs)(s.default,{href:"/admin/manage-brands/new",children:[(0,a.jsx)(t.Plus,{className:"mr-2 h-4 w-4"}),"Добавить бренд"]})})]}),(0,a.jsxs)(f.Card,{children:[(0,a.jsx)(f.CardHeader,{className:"pb-4",children:(0,a.jsx)("div",{className:"flex items-center gap-4",children:(0,a.jsxs)("div",{className:"relative flex-1 max-w-sm",children:[(0,a.jsx)(l.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(u.Input,{placeholder:"Поиск брендов...",value:e,onChange:e=>j(e.target.value),className:"pl-10"})]})})}),(0,a.jsx)(f.CardContent,{className:"p-0",children:w?(0,a.jsx)("div",{className:"p-4 space-y-4",children:Array.from({length:5}).map((e,r)=>(0,a.jsx)(b.Skeleton,{className:"h-12 w-full"},r))}):N&&N.length>0?(0,a.jsxs)(m.Table,{children:[(0,a.jsx)(m.TableHeader,{children:(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableHead,{children:"Бренд"}),(0,a.jsx)(m.TableHead,{children:"Slug"}),(0,a.jsx)(m.TableHead,{children:"Страна"}),(0,a.jsx)(m.TableHead,{children:"Избранный"}),(0,a.jsx)(m.TableHead,{className:"w-[70px]"})]})}),(0,a.jsx)(m.TableBody,{children:N.map(e=>(0,a.jsxs)(m.TableRow,{children:[(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(p.BrandLogo,{name:e.name,src:e.logoUrl,size:"sm",className:"rounded"}),(0,a.jsx)("div",{className:"font-medium",children:e.name})]})}),(0,a.jsx)(m.TableCell,{className:"text-muted-foreground",children:e.slug}),(0,a.jsx)(m.TableCell,{children:e.country||"-"}),(0,a.jsx)(m.TableCell,{children:e.isFeatured&&(0,a.jsxs)(x.Badge,{variant:"secondary",children:[(0,a.jsx)(c,{className:"mr-1 h-3 w-3"}),"Featured"]})}),(0,a.jsx)(m.TableCell,{children:(0,a.jsxs)(h.DropdownMenu,{children:[(0,a.jsx)(h.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",children:(0,a.jsx)(n.MoreHorizontal,{className:"h-4 w-4"})})}),(0,a.jsxs)(h.DropdownMenuContent,{align:"end",children:[(0,a.jsx)(h.DropdownMenuItem,{asChild:!0,children:(0,a.jsxs)(s.default,{href:`/admin/manage-brands/${e.id}/edit`,children:[(0,a.jsx)(i.Pencil,{className:"mr-2 h-4 w-4"}),"Редактировать"]})}),(0,a.jsxs)(h.DropdownMenuItem,{onClick:()=>T(e.id),className:"text-destructive",children:[(0,a.jsx)(d.Trash2,{className:"mr-2 h-4 w-4"}),"Удалить"]})]})]})})]},e.id))})]}):(0,a.jsx)("div",{className:"p-8 text-center text-muted-foreground",children:(0,a.jsx)("p",{children:"Бренды не найдены"})})})]})]})}e.s(["default",()=>j],46341)}]);